{"version":3,"file":"ng-cat-lib.js","sources":["ng://ng-cat-lib/lib/ng-cat-lib.service.ts","ng://ng-cat-lib/lib/ng-cat-lib.component.ts","ng://ng-cat-lib/lib/multitextbox/multitextbox.component.ts","ng://ng-cat-lib/lib/ng-cat-lib.module.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class NgCatLibService {\n\n  constructor() { }\n}\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'cat-ng-cat-lib',\n  template: `\n    <p>\n      ng-cat-lib works!\n    </p>\n  `,\n  styles: []\n})\nexport class NgCatLibComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n","import { Component } from '@angular/core';\nimport {\n  NG_VALUE_ACCESSOR,\n  FormGroup,\n  FormArray,\n  ControlValueAccessor,\n  FormBuilder\n} from '@angular/forms';\nimport { Subscription } from 'rxjs';\nimport { faTimesCircle, faPlusSquare } from '@fortawesome/free-solid-svg-icons';\n\n@Component({\n  selector: 'cat-multi-textbox',\n  templateUrl: './multitextbox.component.html',\n  styleUrls: ['./multitextbox.component.css'],\n  providers: [\n    {\n      provide: NG_VALUE_ACCESSOR,\n      useExisting: MultiTextboxComponent,\n      multi: true\n    }\n  ]\n})\nexport class MultiTextboxComponent implements ControlValueAccessor {\n  public faTimesCircle = faTimesCircle;\n  public faPlusSquare = faPlusSquare;\n  public multiTextboxFormGroup: FormGroup;\n  public valueArray: FormArray;\n  public showAddNew = true;\n  private subscription: Subscription;\n\n  constructor(private formBuilder: FormBuilder) {}\n  public onChange: any = () => {};\n\n  public ngOnInit() {\n    this.multiTextboxFormGroup = this.formBuilder.group({\n      valueArray: this.formBuilder.array([])\n    });\n  }\n\n  public addTextbox() {\n    (this.multiTextboxFormGroup.get('valueArray') as FormArray).push(\n      this.createTextboxFormGroup('')\n    );\n  }\n\n  public removeTextbox(index: number) {\n    (this.multiTextboxFormGroup.get('valueArray') as FormArray).removeAt(index);\n  }\n\n  // Receives value from parent\n  public writeValue(value) {\n    const control = new FormArray([]);\n    if (value && value.length > 0) {\n      value.split('|').forEach(item => {\n        control.push(this.createTextboxFormGroup(item));\n      });\n    } else {\n      control.push(this.createTextboxFormGroup(''));\n      this.showAddNew = false;\n    }\n\n    if (this.subscription) {\n      this.subscription.unsubscribe();\n    }\n\n    this.multiTextboxFormGroup.setControl('valueArray', control);\n\n    this.subscription = (this.multiTextboxFormGroup.get(\n      'valueArray'\n    ) as FormArray).valueChanges.subscribe(items => {\n      this.setShowAddNewProperty(items);\n      this.onChange(items.map(item => item.value).join('|'));\n    });\n  }\n\n  // Call when value changes\n  public registerOnChange(fn) {\n    this.onChange = fn;\n  }\n\n  public registerOnTouched(fn: any): void {\n    // throw new Error(\"Method not implemented.\");\n  }\n\n  public setDisabledState?(isDisabled: boolean): void {\n    // throw new Error(\"Method not implemented.\");\n  }\n\n  public getControls(frmGrp: FormGroup, key: string) {\n    return (frmGrp.controls[key] as FormArray).controls;\n  }\n\n  private setShowAddNewProperty(items: any) {\n    this.showAddNew = !(items.length === 1 && items[0].value === '');\n  }\n\n  private createTextboxFormGroup(text: string): FormGroup {\n    return this.formBuilder.group({\n      value: text.trim()\n    });\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { NgCatLibComponent } from './ng-cat-lib.component';\nimport { MultiTextboxComponent } from './multitextbox/multitextbox.component';\nimport { BrowserModule } from '@angular/platform-browser';\nimport { MatFormFieldModule, MatInputModule } from '@angular/material';\nimport { FontAwesomeModule } from '@fortawesome/angular-fontawesome';\n\n@NgModule({\n  declarations: [NgCatLibComponent, MultiTextboxComponent],\n  imports: [\n    BrowserModule,\n    FormsModule,\n    ReactiveFormsModule,\n    MatFormFieldModule,\n    MatInputModule,\n    FontAwesomeModule\n  ],\n  exports: [NgCatLibComponent, MultiTextboxComponent]\n})\nexport class NgCatLibModule {}\n"],"names":[],"mappings":"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"}